<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">

    <script>
        function addPergunta() {
            const pergunta = document.getElementById("pergunta").value;
            const alt1 = document.getElementById("alternativa1").value;
            const alt2 = document.getElementById("alternativa2").value;
            const alt3 = document.getElementById("alternativa3").value;
            const alt4 = document.getElementById("alternativa4").value;
            const alt5 = document.getElementById("alternativa5").value;

            const xmlhttp = new XMLHttpRequest();

            xmlhttp.onreadystatechange = function() {
            if (this.readyState === 4 && this.status === 200) {
                const resposta = JSON.parse(this.responseText);
                if (resposta.redirect) {
                window.location.href = resposta.redirect; // Redireciona o navegador
                } else {
                document.getElementById("msg").innerHTML = this.responseText;
                }
            }
            };

            xmlhttp.open("POST", "adicionar_pergunta.php", true);
            xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

            const params =
                "pergunta=" + encodeURIComponent(pergunta) +
                "&alternativa1=" + encodeURIComponent(alt1) +
                "&alternativa2=" + encodeURIComponent(alt2) +
                "&alternativa3=" + encodeURIComponent(alt3) +
                "&alternativa4=" + encodeURIComponent(alt4) +
                "&alternativa5=" + encodeURIComponent(alt5);

            xmlhttp.send(params);
        }
    </script>

</head>
<body>
    <h2>Cadastro de quest√£o</h2>
    <form>
        <label>Pergunta: </label><br>
        <textarea id='pergunta' rows='5' cols='50' placeholder='Digite o texto aqui...' required></textarea><br><br>
        
        <label>Alternativa A: </label><br>
        <textarea id='alternativa1' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa B:</label><br>
        <textarea id='alternativa2' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa C:</label><br>
        <textarea id='alternativa3' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa D:</label><br>
        <textarea id='alternativa4' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa E:</label><br>
        <textarea id='alternativa5' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>

        <input type="button" value="Salvar" onclick= "addPergunta()">
    </form>

    <div id="msg"></div>
</body>
</html>

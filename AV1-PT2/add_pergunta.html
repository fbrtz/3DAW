<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">

    <script>
        function addPergunta() {

            let pergunta = document.getElementById("pergunta").value;
            let alt1 = document.getElementById("alternativa1").value;
            let alt2 = document.getElementById("alternativa2").value;
            let alt3 = document.getElementById("alternativa3").value;
            let alt4 = document.getElementById("alternativa4").value;
            let alt5 = document.getElementById("alternativa5").value;

            let xmlhttp = new XMLHttpRequest();
            console.log("1");
            xmlhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    console.log("Chegou a resposta OK: " + this.responseText);
                    console.log("2");
                    document.getElementById("msg").innerHTML = this.responseText;
                } else if (this.readyState < 4) {
                    console.log("3: " + this.readyState);
                } else {
                    console.log("Requisicao falhou: " + this.status);
                }
            }
            console.log("4");
            xmlhttp.open("GET", "http://localhost/AV1/adicionar_pergunta.php?pergunta=" + encodeURIComponent(pergunta) +
                        "&alternativa1=" + encodeURIComponent(alt1) +
                        "&alternativa2=" + encodeURIComponent(alt2) +
                        "&alternativa3=" + encodeURIComponent(alt3) +
                        "&alternativa4=" + encodeURIComponent(alt4) +
                        "&alternativa5=" + encodeURIComponent(alt5));
            xmlhttp.send();
            console.log("enviei form");
            console.log("5");
        }
    </script>
</head>
<body>
    <h2>Cadastro de quest√£o</h2>
    <form>
        <label>Pergunta: </label><br>
        <textarea id='pergunta' rows='5' cols='50' placeholder='Digite o texto aqui...' required></textarea><br><br>
        
        <label>Alternativa A: </label><br>
        <textarea id='alternativa1' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa B:</label><br>
        <textarea id='alternativa2' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa C:</label><br>
        <textarea id='alternativa3' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa D:</label><br>
        <textarea id='alternativa4' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>
        
        <label>Alternativa E:</label><br>
        <textarea id='alternativa5' rows='2' cols='50' placeholder='Digite o texto aqui...'></textarea><br><br>

        <input type="button" value="Salvar" onclick="addPergunta()">
    </form>

    <div id="msg"></div>
</body>
</html>
